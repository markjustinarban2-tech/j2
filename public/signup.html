<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register - J2 Nexus Technologies</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Arial; }
    body { background: #f4f4f4; display: flex; flex-direction: column; min-height: 100vh; }

    header { background-color: #003366; color: #fff; width: 100%; position: fixed; top: 0; left: 0; }
    .container { width: 90%; max-width: 1200px; margin: auto; }
    .header-container { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; }
    .logo { display: flex; align-items: center; gap: 10px; }
    .logo img { height: 40px; }
    nav ul { list-style: none; display: flex; gap: 25px; }
    nav ul li a { color: #fff; text-decoration: none; font-weight: 500; }

    main { flex: 1; display: flex; justify-content: center; align-items: center; padding: 120px 20px 40px; }
    .signup-container { background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
    .signup-container h2 { text-align: center; margin-bottom: 20px; color: #003366; }

    label { display: block; margin-bottom: 5px; font-weight: bold; }
    input { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 5px; }

    button { width: 100%; padding: 12px; background: #003366; border: none; color: #fff; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0055a5; }

    footer { background-color: #003366; color: #fff; text-align: center; padding: 15px 0; margin-top: auto; }
  </style>
</head>
<body>

<header>
  <div class="container header-container">
    <div class="logo">
      <img src="pic/logo.jpg.png" alt="Logo">
      <span>J2 Nexus Technologies</span>
    </div>
  </div>
</header>

<main>
  <div class="signup-container">
    <h2>Create Account</h2>
    <form id="signupForm">
      <label>Email</label>
      <input type="email" id="email" required>

      <label>Password</label>
      <input type="password" id="password" required>

      <button type="submit">Register</button>
    </form>
    <p style="text-align:center;margin-top:10px;">Already have an account? <a href="login.html">Login</a></p>
  </div>
</main>

<footer>
  <p>Â© 2025 J2 Nexus Technologies. All rights reserved.</p>
</footer>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

  const firebaseConfig = {
  apiKey: "AIzaSyAKYSKoY23MbBX9g2PrXoxSuKtTEpaNxcw",
  authDomain: "j2nexuss-a7b99.firebaseapp.com",
  projectId: "j2nexuss-a7b99",
  storageBucket: "j2nexuss-a7b99.firebasestorage.app",
  messagingSenderId: "456617087462",
  appId: "1:456617087462:web:be5dba59b5a117cab38627",
  measurementId: "G-9JQEGSHWHM"
};

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  document.getElementById("signupForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    try {
      const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;

      // Save user in Firestore with default role
      await setDoc(doc(db, "users", user.uid), {
        email: email,
        role: "user"
      });

      alert("Account created successfully!");
      window.location.href = "login.html";

    } catch (err) {
      alert("Error: " + err.message);
    }
  });
</script>

</body>
</html>
